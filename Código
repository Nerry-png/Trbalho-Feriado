import requests
import re
import tkinter
from tkinter.filedialog import askopenfilename


Ano = ""

def ChamadaAPI(Ano):
    url = "https://date.nager.at/api/v3/PublicHolidays/"+Ano+"/BR"

    payload = {}
    headers = {
      'accept': 'application/json'
      }

    response = requests.request("GET", url, headers=headers, data=payload)

    return response.text

def CriarLista(Ano):
    Feriados = open("feriados.txt", "a")
    
    with open("feriados.txt", "a") as Feriados:
      Feriados.write("")

    ListaFeriados = set(re.findall("\d{4}-\d{2}-\d{2}", ChamadaAPI(Ano)))

    for feriado in ListaFeriados:
      with open("feriados.txt", "a") as Feriados:
        Feriados.write(feriado)
        Feriados.write(" Ã© feriado!\n")

    with open("feriados.txt") as Feriados:
       print(Feriados.read())

print("Qual o ano?")
Ano = input()
CriarLista(Ano)
